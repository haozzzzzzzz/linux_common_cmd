# C++存储类

存储类定义C++程序中变量/函数的范围（可见性）和生命周期。这些说明符放置在它们所修饰的类型之前。下面列出C++程序中可用的存储类：

- auto
- register
- static
- extern
- mutable
- thread_local(C++11)

从C++11开始，auto关键字不再是C++存储类说明府，且register关键字被弃用。



## auto存储类

自C++11以来，auto关键字用于两种情况：生命变量时根据初始化表达式自动推断该变量的类型、身影函数时函数返回值的占位符。

C++98标准中auto关键字用于自动变量的声明，但由于使用极少且多余，在C++11中已删除这一用法。

根据初始化表达式自动推断被声明的变量的类型，如：

```c++
auto f = 3.14; // double
auto s("Hello"); // const char*
auto z = new auto(9) // int*
auto x1 = 5, x2 = 5.0, x3 = 'r'; // 错误，必须是初始化为同一类型。
```



### static存储类

- **static** 存储类指示编译器在程序的生命周期内保持局部变量的存在，而不需要在每次它进入和离开作用域时进行创建和销毁。因此，使用 static 修饰局部变量可以在函数调用之间保持局部变量的值。
- static 修饰符也可以应用于全局变量。当 static 修饰全局变量时，会使变量的作用域限制在声明它的文件内。
- 在 C++ 中，当 static 用在类数据成员上时，会导致仅有一个该成员的副本被类的所有对象共享。



### extern存储类

